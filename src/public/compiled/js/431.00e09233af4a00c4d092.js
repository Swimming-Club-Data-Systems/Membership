"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[431],{36286:function(e,t,n){n.d(t,{km:function(){return r},oY:function(){return s},zv:function(){return l},pB:function(){return i},Cq:function(){return u},OW:function(){return d},Td:function(){return c}});var a=n(99677);function r(e){return a.Z.getState()["SKIPCLEAR/GlobalSettings"][e]}function s(){return m("name")}function l(){return m("id")}function i(){return m("uuid")}function u(){return m("swim_england_code")}function d(e){return m("club_logo_path")+e}function m(e){return a.Z.getState()["SKIPCLEAR/Tenant"][e]}function c(e){document.title=e+" - "+r("club_name")}},4431:function(e,t,n){n.r(t);var a=n(67294),r=n(36286),s=n(62598),l=n(77289),i=n(88375),u=n(3330),d=n(35005),m=n(50533),c=n(21073),o=n(9669),g=n.n(o);const f=l.Ry().shape({emailAddress:l.Z_().email("Your email address must be valid").required("You must provide an email address")});t.default=(0,m.$j)(c.K,c.ZS)((e=>{(0,a.useEffect)((()=>{r.Td("Get back into your account"),e.setType("resetPassword")}),[]);const[t,n]=(0,a.useState)(null),[l,m]=(0,a.useState)(!1);return a.createElement(a.Fragment,null,l&&a.createElement(a.Fragment,null,a.createElement(i.Z,{variant:"success"},a.createElement("p",{className:"mb-0"},a.createElement("strong",null,"We've found your account")),a.createElement("p",{className:"mb-0"},"We're sending you an email with instructions detailing how to reset your password."))),!l&&a.createElement(a.Fragment,null,t&&a.createElement("div",{className:"alert alert-danger"},t.message),a.createElement(s.J9,{validationSchema:f,onSubmit:async(e,t)=>{let{setSubmitting:a}=t;a(!0);try{const t=await g().post("/api/auth/request-password-reset",{email_address:e.emailAddress});t.data.success?m(!0):n({type:"danger",message:t.data.message})}catch(e){n({type:"danger",message:e.message})}a(!1)},initialValues:{emailAddress:e.emailAddress||"",password:"",rememberMe:e.rememberMe||!0}},(e=>{let{handleSubmit:t,handleChange:n,handleBlur:r,values:s,touched:l,isValid:i,errors:m,isSubmitting:c,dirty:o}=e;return a.createElement(u.Z,{noValidate:!0,onSubmit:t,onBlur:r},a.createElement("div",{className:"mb-3"},a.createElement(u.Z.Group,{controlId:"emailAddress"},a.createElement(u.Z.Label,null,"Email address"),a.createElement(u.Z.Control,{type:"email",name:"emailAddress",value:s.emailAddress,onChange:n,isValid:l.emailAddress&&!m.emailAddress,isInvalid:l.emailAddress&&m.emailAddress,size:"lg"}),m.emailAddress&&a.createElement(u.Z.Control.Feedback,{type:"invalid"},m.emailAddress))),a.createElement("p",{className:"mb-5"},a.createElement(d.Z,{size:"lg",type:"submit",disabled:!o||!i||c},"Reset password")))}))))}))}}]);
//# sourceMappingURL=431.00e09233af4a00c4d092.js.map