{"version":3,"file":"js/865.8bb9e21aff0f4d522dae.js","mappings":"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","sources":["webpack://src/./js/classes/Tenant.js","webpack://src/./js/components/Breadcrumb.js","webpack://src/./js/notify/components/Pill.js","webpack://src/./js/notify/components/ToRow.js","webpack://src/./js/notify/components/DropdownRow.js","webpack://src/./js/notify/components/TextRow.js","webpack://src/./js/notify/components/Dropzone.js","webpack://src/./js/notify/components/Dropdown.js","webpack://src/./js/components/Loader.js","webpack://src/./js/notify/forms/Composer.js"],"sourcesContent":["// import reducer from \"../reducers/index\";\n// import { getState } from 'redux';\nimport store from \"../reducers/store\";\n\nexport function getKey(key) {\n  const state = store.getState();\n  return state[\"SKIPCLEAR/GlobalSettings\"][key];\n}\n\nexport function getName() {\n  return getDetail(\"name\");\n}\n\nexport function getId() {\n  return getDetail(\"id\");\n}\n\nexport function getUuid() {\n  return getDetail(\"uuid\");\n}\n\nexport function getWebsite() {\n  return getDetail(\"website\");\n}\n\nexport function getHostname() {\n  return getDetail(\"hostname\");\n}\n\nexport function getCode() {\n  return getDetail(\"swim_england_code\");\n}\n\nexport function isVerified() {\n  return getDetail(\"is_verified\");\n}\n\nexport function getLogoUrl(filename) {\n  return getDetail(\"club_logo_path\") + filename;\n}\n\nfunction getDetail(key) {\n  const state = store.getState();\n  return state[\"SKIPCLEAR/Tenant\"][key];\n}\n\nexport function setTitle(title) {\n  document.title = title + \" - \" + getKey(\"club_name\");\n}","import React from \"react\";\nimport { Link, useMatch, useResolvedPath } from \"react-router-dom\";\n\nconst Breadcrumb = (props) => {\n\n  const crumbs = props.crumbs;\n\n  // let resolved = useResolvedPath(to);\n  // let match = useMatch({ path: resolved.pathname, end: true });\n\n  if (crumbs.length === 0) {\n    // If no links return with nothing\n    return;\n  }\n\n  // members.map((member, idx) => (\n  const breadcrumbs = crumbs.map((crumb) => {\n    let resolved = useResolvedPath(crumb.to);\n    let match = useMatch({ path: resolved.pathname, end: true });\n\n    if (match) {\n      return (\n        <li className=\"breadcrumb-item active\" key={crumb.to} title={crumb.title} aria-current=\"page\">\n          {crumb.name}\n        </li>\n      );\n    } else {\n      return (\n        <li className=\"breadcrumb-item\" key={crumb.to}>\n          <Link to={crumb.to} title={crumb.title} state={{global_questionable_link: true}}>\n            {crumb.name}\n          </Link>\n        </li>\n      );\n    }\n  });\n\n  return (\n    <nav aria-label=\"breadcrumb\">\n      <ol className=\"breadcrumb\">\n        {breadcrumbs}\n      </ol>\n    </nav>\n  );\n};\n\nexport default Breadcrumb;","import React from \"react\";\n\nclass Pill extends React.Component {\n\n  render() {\n    // console.log(this.props);\n\n    return (\n      <div className=\"component-pill me-2 mb-1\">\n        <div className=\"component-pill-text-left\">{this.props.data.name}</div>\n        <button className=\"component-pill-button\" type=\"button\">\n          <div className=\"component-pill-text-right\" onClick={(event) => { this.props.handleClick(event, this.props.data); }}>\n            <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n          </div>\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Pill;","import React from \"react\";\nimport Pill from \"./Pill\";\nimport Button from \"react-bootstrap/Button\";\n\nclass ToRow extends React.Component {\n\n  render() {\n    const pills = this.props.groups.map(data => {\n      if (data.state) {\n        return (\n          <Pill key={data.key} data={data} handleClick={this.props.handleClick} />\n        );\n      }\n    });\n\n    let classes = [\"form-control\", \"h-100\"];\n    if (this.props.validated && this.props.numTos === 0) {\n      classes.push(\"is-invalid\");\n    } else if (this.props.validated) {\n      classes.push(\"is-valid\");\n    }\n    let controlClassNames = classes.join(\" \");\n\n    return (\n      <div className=\"my-2 form-floating\">\n        <div className={controlClassNames} id=\"tosInput\">\n          <div className=\"row\">\n            <div className=\"col-auto\">\n              <Button variant=\"primary\" onClick={this.props.handleShowTo}>\n                To\n              </Button>\n            </div>\n            <div className=\"col p-1 pb-0\">\n              {pills}\n            </div>\n          </div>\n        </div>\n        <label>Recipients</label>\n      </div>\n    );\n  }\n}\n\nexport default ToRow;","import React from \"react\";\nimport { FloatingLabel, Form } from \"react-bootstrap\";\n\n\nclass DropdownRow extends React.Component {\n\n  render() {\n    const options = this.props.options.map((data, idx) => {\n      return (\n        <option key={idx} value={data.value}>{data.name}</option>\n      );\n    });\n\n    return (\n      <div className=\"my-2\">\n        <FloatingLabel controlId=\"floatingSelect\" label={this.props.label}>\n          <Form.Select aria-label={this.props.label} value={this.props.formValue} onChange={this.props.handleChange} name={this.props.name}>\n            {options}\n          </Form.Select>\n        </FloatingLabel>\n      </div>\n    );\n  }\n}\n\nexport default DropdownRow;","import React from \"react\";\nimport { FloatingLabel, Form } from \"react-bootstrap\";\n\n\nclass DropdownRow extends React.Component {\n\n  render() {\n    let type = this.props.type ? this.props.type : \"text\";\n\n    return (\n      <div className=\"my-2\">\n        <FloatingLabel\n          controlId=\"floatingInput\"\n          label={this.props.label}\n          className=\"mb-3\"\n        >\n          <Form.Control type={type} value={this.props.formValue} onChange={this.props.handleChange} name={this.props.name} required={this.props.required}/>\n        </FloatingLabel>\n      </div>\n    );\n  }\n}\n\nexport default DropdownRow;","import React from \"react\";\nimport { Dropzone as DropzoneLib } from \"dropzone\";\nimport { post } from \"jquery\";\n\nclass Dropzone extends React.Component {\n  constructor(props) {\n    super(props);\n    this.dropzoneRef = React.createRef();\n    this.dropzone = null;\n    this.state = {\n      warningMessage: null,\n    };\n  }\n\n  componentDidMount = () => {\n    this.dropzone = new DropzoneLib(this.dropzoneRef.current, {\n      url: this.props.action,\n      method: \"post\",\n      previewsContainer: \"#upload-previews\",\n      // addRemoveLinks: true,\n      filesizeBase: 1024,\n      maxFilesize: this.props.maxFileSize,\n      params: {\n        notify_uuid: this.props.uuid,\n        notify_date: this.props.date\n      },\n      previewTemplate: `\\\n<div class=\"col-6 col-md-4 col-lg-3 mb-2\">\n  <div class=\"border rounded p-2 text-center h-100\">\n    <div class=\"dz-preview dz-file-preview\">\n      <div class=\"dz-image\"><i class=\"fa fa-file fa-3x\" aria-hidden=\"true\"></i></div>\n      <div class=\"dz-details\">\n        <div class=\"align-items-center text-truncate\"><span class=\"dz-success-mark\"><i class=\"fa fa-check-circle text-success\" aria-hidden=\"true\"></i></span><span class=\"dz-error-mark\"><i class=\"fa fa-times-circle text-danger\" aria-hidden=\"true\"></i></span> <span class=\"dz-filename\"><span data-dz-name></span></span></div>\n        <div class=\"align-items-center dz-size mb-2\"><span data-dz-size></span> <button class=\"btn btn-sm btn-danger\" alt=\"Remove file\" data-dz-remove><i class=\"fa fa-trash\" aria-hidden=\"true\"></i></button></div>\n      </div>\n      <div class=\"progress\">\n        <div class=\"progress-bar bg-success\" role=\"progressbar\" style=\"width: 0%\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" data-dz-uploadprogress></div>\n      </div>\n      <!--<div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>-->\n      <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\n    </div>\n  </div>\n</div>\\\n`,\n    });\n\n    this.dropzone.on(\"dragenter\", (event) => {\n      this.dropzoneRef.current.classList.add(\"bg-light\");\n    });\n\n    this.dropzone.on(\"dragend\", (event) => {\n      this.dropzoneRef.current.classList.remove(\"bg-light\");\n    });\n\n    this.dropzone.on(\"dragleave\", (event) => {\n      this.dropzoneRef.current.classList.remove(\"bg-light\");\n    });\n\n    this.dropzone.on(\"dragover\", (event) => {\n      this.dropzoneRef.current.classList.add(\"bg-light\");\n    });\n\n    this.dropzone.on(\"drop\", (event) => {\n      this.dropzoneRef.current.classList.remove(\"bg-light\");\n    });\n\n    this.dropzone.on(\"success\", (file, response) => {\n      // console.log(file);\n      if (response.status == 200) {\n        let attachments = [\n          ...this.props.attachments,\n          {\n            filename: response.name,\n            filesize: response.size,\n            mimetype: response.type,\n            s3_key: response.key,\n            url: response.url,\n          }];\n        this.props.setAttachments(attachments);\n      } else {\n        console.error(response);\n      }\n      this.printFileDetails();\n    });\n\n    this.dropzone.on(\"removedfile\", (file) => {\n      // console.log(file);\n\n      let attachments = [...this.props.attachments];\n      for (let i = 0; i < attachments.length; i++) {\n        if (attachments[i].filename == file.name && attachments[i].mimetype == file.type) {\n          attachments.splice(i, 1);\n        }\n      }\n      this.props.setAttachments(attachments);\n      this.printFileDetails();\n    });\n  };\n\n  /**\n       * Print file details on change\n       * @param {Event} event \n       */\n  printFileDetails = (event) => {\n    // Set a default max file size\n    var maxFileSize = 1024 * 1024; // 1 megabyte\n    if (this.props.maxFileSize) {\n      var maxFileSize = parseInt(this.props.maxFileSize);\n    }\n\n    // Set a default max total file size\n    var maxTotalFileSize = 1024 * 1024; // 1 megabyte\n    if (this.props.maxTotalFileSize) {\n      var maxTotalFileSize = parseInt(this.props.maxTotalFileSize);\n    }\n\n    // Total file size\n    var totalFileSize = 0;\n\n    // Array of files too large\n    var tooLarge = [];\n\n    for (let i = 0; i < this.props.attachments.length; i++) {\n      totalFileSize += this.props.attachments[i].filesize;\n      var maxFileSizeOK = this.props.attachments[i].filesize <= maxFileSize;\n      var maxTotalFileSizeOK = totalFileSize <= maxTotalFileSize;\n\n      if (!maxFileSizeOK) {\n        tooLarge.push({\n          \"name\": attachments[i].filename,\n          \"size\": attachments[i].size,\n        });\n      }\n    }\n\n    var maxTotalFileSizeOK = totalFileSize <= maxTotalFileSize;\n\n    if (maxTotalFileSizeOK && tooLarge.length == 0) {\n      this.setState({ warningMessage: null });\n      this.props.setCanSubmitAttachments(true);\n    } else {\n      this.props.setCanSubmitAttachments(false);\n      let warning = \"Files too large\";\n      var errorMessage = \"Files are too large or non-compliant\";\n\n      // Custom error messages\n      if (tooLarge.length > 0) {\n        var needsComma = false;\n        errorMessage = \"The following files are too large:\";\n        tooLarge.forEach(file => {\n          if (needsComma) {\n            errorMessage += \", \";\n          }\n          needsComma = true;\n          errorMessage += file.name;\n        });\n        errorMessage += \".\";\n\n        if (!maxTotalFileSizeOK) {\n          errorMessage += \" The files also collectively exceed the maximum size for attachments.\";\n        }\n\n      } else {\n        errorMessage = \"The files you are trying to upload are collectively bigger than the maximum size allowed. Please remove some files.\";\n      }\n\n      warning = errorMessage;\n\n      this.setState({ warningMessage: warning });\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <label className=\"form-label\">Add attachments</label>\n        <div className=\"upload-drop card card-body mb-3\" ref={this.dropzoneRef}>\n          <div className=\"dz-message d-flex flex-column text-center py-2\">\n            <i className=\"fa fa-cloud-upload fa-3x\" aria-hidden=\"true\"></i>\n            Drag &amp; Drop attachments here or click to browse for files\n          </div>\n          <div className=\"dropzone-previews row g-2 mb-n2\" id=\"upload-previews\"></div>\n        </div>\n        {\n          this.state.warningMessage &&\n          <p className=\"text-danger mt-n2\">{this.state.warningMessage}</p>\n        }\n      </>\n    );\n  }\n}\n\nexport default Dropzone;","import React from \"react\";\nimport { Form } from \"react-bootstrap\";\n\n\nclass Dropdown extends React.Component {\n\n  render() {\n    const options = this.props.options.map((data, idx) => {\n      return (\n        <option key={idx} value={data.value}>{data.name}</option>\n      );\n    });\n\n    return (\n      <Form.Group className=\"mb-3\" controlId={this.props.name}>\n        <Form.Label>{this.props.label}</Form.Label>\n        <Form.Select aria-label={this.props.label} value={this.props.formValue} onChange={this.props.handleChange} name={this.props.name}>\n          {options}\n        </Form.Select>\n      </Form.Group>\n    );\n  }\n}\n\nexport default Dropdown;","import React from \"react\";\nimport Placeholder from \"react-bootstrap/Placeholder\";\n\nconst Loader = (props) => {\n\n  return (\n    <>\n      {\n        !props.loaded && (\n          <>\n            <Placeholder xs={6} animation=\"glow\" />\n            <Placeholder className=\"w-75\" animation=\"glow\" /> <Placeholder className=\"w-25\" animation=\"glow\" />\n          </>\n        )\n      }\n      {\n        props.loaded && props.children\n      }\n    </>\n  );\n};\n\nexport default Loader;","import React from \"react\";\nimport Header from \"../../components/Header.js\";\nimport ToRow from \"../components/ToRow\";\nimport DropdownRow from \"../components/DropdownRow\";\nimport TextRow from \"../components/TextRow\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Form from \"react-bootstrap/Form\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport axios from \"axios\";\nimport Dropzone from \"../components/Dropzone\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport { Navigate } from \"react-router-dom\";\nimport Dropdown from \"../components/Dropdown\";\nimport * as tenantFunctions from \"../../classes/Tenant\";\nimport Loader from \"../../components/Loader.js\";\nimport Breadcrumb from \"../../components/Breadcrumb.js\";\n// import exports from \"enhanced-resolve\";\n\nexport class Composer extends React.Component {\n\n  constructor() {\n    super();\n    document.title = \"Notify Composer\";\n    this.editor = React.createRef();\n    this.state = {\n      loaded: false,\n\n      from: \"asClub\",\n      replyTo: \"toClub\",\n      subject: \"\",\n      attachments: [],\n      message: \"\",\n      forceSend: false,\n      canForceSend: false,\n      sendToCoaches: true,\n      category: \"DEFAULT\",\n\n      // Modals\n      showTo: false,\n      showDemoSubmission: false,\n      showUserSettingsDialog: false,\n      showConfirmSendDialog: false,\n\n      // Options for this\n      possibleTos: [],\n      possibleFroms: [],\n      possibleReplyTos: [],\n      possibleCategories: [],\n\n      // TinyMCE\n      documentBaseUrl: null,\n      imagesUploadUrl: null,\n      tinyMceCssLocation: null,\n      editorValue: \"\",\n\n      // Tabs\n      tabKey: \"editor\",\n\n      // Dropzone\n      emailUuid: null,\n      date: null,\n      dzMaxFileSize: 10485760,\n      dzMaxTotalFileSize: 10485760,\n      canSubmitAttachments: true,\n\n      validated: false,\n      emailSent: false,\n\n      disableSendConfirm: false,\n      disableSettingsSave: false,\n\n      settings: {\n        replyEmailAddress: \"\",\n        defaultReplyTo: \"toClub\",\n        defaultSendAs: \"asClub\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"/notify/new/react-data\")\n      .then(response => {\n        let data = response.data;\n        this.setState({\n          possibleTos: data.possibleTos,\n          possibleReplyTos: data.possibleReplyTos,\n          possibleFroms: data.possibleFroms,\n          canForceSend: data.canForceSend,\n          possibleCategories: data.possibleCategories,\n          documentBaseUrl: data.documentBaseUrl,\n          imagesUploadUrl: data.imagesUploadUrl,\n          tinyMceCssLocation: data.tinyMceCssLocation,\n          date: data.date,\n          emailUuid: data.uuid,\n          loaded: true,\n          from: data.settings.defaultSendAs,\n          replyTo: data.settings.defaultReplyTo,\n          settings: data.settings,\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  handlePillClick = (event, data) => {\n    this.handleTosChangeBackend(data.type, data.key, false);\n  };\n\n  handleChange = (event) => {\n    // Update state\n    const { name, value, type, checked } = event.target;\n    if (type === \"checkbox\") {\n      this.setState({\n        [name]: checked,\n      });\n    } else {\n      this.setState({\n        [name]: value,\n      });\n    }\n  };\n\n  handleSettingsChange = (event) => {\n    // Update state\n    const { name, value, type, checked } = event.target;\n    if (type === \"checkbox\") {\n      this.setState(prevState => ({\n        ...prevState,\n        settings: {\n          ...prevState.settings,\n          [name]: checked,\n        },\n      })\n      );\n    } else {\n      this.setState(prevState => ({\n        ...prevState,\n        settings: {\n          ...prevState.settings,\n          [name]: value,\n        },\n      })\n      );\n    }\n  };\n\n  handleShowTo = () => {\n    this.setState({\n      showTo: true,\n    });\n  };\n\n  handleCloseTo = () => {\n    this.setState({\n      showTo: false,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // console.log(event);\n\n    const form = event.currentTarget;\n    if (form.checkValidity() === false || this.getGroupList().length === 0 || !this.state.canSubmitAttachments || this.state.editorValue.length == 0) {\n      event.stopPropagation();\n    } else {\n      this.setState({\n        showConfirmSendDialog: true,\n      });\n    }\n\n    this.setState({\n      validated: true,\n    });\n  };\n\n  handleConfirmSend = () => {\n    this.setState({\n      disableSendConfirm: true,\n    });\n\n    const list = this.getGroupList();\n    let recipients = {};\n\n    list.forEach(element => {\n      if (element.state) {\n        recipients[element.key] = element;\n      }\n    });\n\n    axios.post(\"/notify/send-email\", {\n      state: this.state,\n      recipients,\n    })\n      .then(response => {\n        let data = response.data;\n        console.info(data);\n        this.setState({\n          showConfirmSendDialog: false,\n          emailSent: true,\n        });\n      })\n      .catch(error => {\n        console.warn(error);\n        this.setState({\n          disableSendConfirm: false,\n        });\n      });\n  };\n\n  handleConfirmSendClose = () => {\n    this.setState({\n      showConfirmSendDialog: false,\n    });\n  };\n\n  setAttachments = (attachments) => {\n    this.setState({\n      attachments\n    });\n  };\n\n  setCanSubmitAttachments = (state) => {\n    this.setState({\n      canSubmitAttachments: state,\n    });\n  };\n\n  handleTosChange = (event, type) => {\n    const { name, checked } = event.target;\n\n    this.handleTosChangeBackend(type, name, checked);\n\n    // const groups = [...this.state.possibleTos[type].groups];\n    // this.setState(prevState => ({\n    //   ...prevState,\n    //   possibleTos: {\n    //     ...prevState.possibleTos,\n    //     [type]: {\n    //       ...prevState.possibleTos[type],\n    //       groups: groups.map((data, idx) => {\n    //         if (name === data.key) {\n    //           return {\n    //             ...data,\n    //             state: checked,\n    //           }\n    //         } else {\n    //           return { ...data };\n    //         }\n    //       }),\n    //     },\n    //   },\n    // })\n    // )\n  };\n\n  handleTosChangeBackend = (type, name, checked) => {\n    const groups = [...this.state.possibleTos[type].groups];\n    this.setState(prevState => ({\n      ...prevState,\n      possibleTos: {\n        ...prevState.possibleTos,\n        [type]: {\n          ...prevState.possibleTos[type],\n          groups: groups.map((data) => {\n            if (name === data.key) {\n              return {\n                ...data,\n                state: checked,\n              };\n            } else {\n              return { ...data };\n            }\n          }),\n        },\n      },\n    })\n    );\n  };\n\n  handleSquadTosChange = (event) => {\n    this.handleTosChange(event, \"squads\");\n  };\n\n  handleListTosChange = (event) => {\n    this.handleTosChange(event, \"lists\");\n  };\n\n  handleGalaTosChange = (event) => {\n    this.handleTosChange(event, \"galas\");\n  };\n\n  handleDemoOpen = () => {\n    this.setState({\n      showDemoSubmission: true\n    });\n  };\n\n  handleDemoClose = () => {\n    this.setState({\n      showDemoSubmission: false\n    });\n  };\n\n  handleForceSendChange = (event) => {\n    if (event.target.checked) {\n      this.setState({\n        showForceSendWarning: true\n      });\n    } else {\n      this.setState({\n        forceSend: false\n      });\n    }\n  };\n\n  handleForceSendClose = () => {\n    this.setState({\n      showForceSendWarning: false\n    });\n  };\n\n  handleForceSendConfirm = () => {\n    this.setState({\n      showForceSendWarning: false,\n      forceSend: true,\n    });\n  };\n\n  handleSettingsOpen = () => {\n    this.setState({\n      showUserSettingsDialog: true\n    });\n  };\n\n  handleSettingsClose = () => {\n    this.setState({\n      showUserSettingsDialog: false\n    });\n  };\n\n  handleSettingsSave = () => {\n    this.setState({\n      disableSettingsSave: true,\n    });\n\n    axios.post(\"/notify/save-user-settings\", {\n      ...this.state.settings\n    })\n      .then(response => {\n        let data = response.data;\n        this.setState({\n          settings: data.settings,\n          possibleReplyTos: data.possibleReplyTos,\n          showUserSettingsDialog: false,\n          disableSettingsSave: false,\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n        this.setState({\n          disableSettingsSave: false,\n        });\n      });\n  };\n\n  getGroupList = () => {\n    return [...this.state.possibleTos.squads.groups, ...this.state.possibleTos.lists.groups, ...this.state.possibleTos.galas.groups];\n  };\n\n  getToListCount = () => {\n    let count = 0;\n    let list = this.getGroupList();\n    for (let index = 0; index < list.length; index++) {\n      if (list[index].state) {\n        count += 1;\n      }\n    }\n    return count;\n  };\n\n  renderPreview = () => {\n    tenantFunctions.setTitle(\"Notify Composer\");\n\n    const attachments = this.state.attachments.map((data) => {\n      return (\n        <li key={data.s3_key}><a href={\"/files/\" + data.url} target=\"_blank\" rel=\"noreferrer\">{data.filename}</a></li>\n      );\n    });\n\n    return (\n      <>\n        <p>This is a preview of your email.</p>\n\n        {\n          this.state.attachments.length > 0 &&\n          <div className=\"card mb-3\">\n            <div className=\"card-header\">\n              Attachments\n            </div>\n            <div className=\"card-body\">\n              <ul className=\"list-unstyled mb-0\">\n                {attachments}\n              </ul>\n            </div>\n          </div>\n        }\n\n        <div className=\"card\">\n          <div className=\"card-header\">\n            Content\n          </div>\n          <div className=\"card-body\">\n            <p>Hello -USER-NAME-,</p>\n            <div dangerouslySetInnerHTML={{ __html: this.state.editorValue }} />\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  render() {\n\n    let squads, targetedLists, galaEntrants;\n    if (this.state.loaded) {\n      squads = this.state.possibleTos.squads.groups.map(data => {\n        return (\n          <Col xs={6} md={4} lg={3} key={data.key}>\n            <Form.Check\n              type=\"checkbox\"\n              id={data.key}\n              label={data.name}\n              checked={data.state}\n              onChange={this.handleSquadTosChange}\n              name={data.key}\n            />\n          </Col>\n        );\n      });\n\n      targetedLists = this.state.possibleTos.lists.groups.map(data => {\n        return (\n          <Col xs={6} md={4} lg={3} key={data.key}>\n            <Form.Check\n              type=\"checkbox\"\n              id={data.key}\n              label={data.name}\n              checked={data.state}\n              onChange={this.handleListTosChange}\n              name={data.key}\n            />\n          </Col>\n        );\n      });\n\n      galaEntrants = this.state.possibleTos.galas.groups.map(data => {\n        return (\n          <Col xs={6} md={4} lg={3} key={data.key}>\n            <Form.Check\n              type=\"checkbox\"\n              id={data.key}\n              label={data.name}\n              checked={data.state}\n              onChange={this.handleGalaTosChange}\n              name={data.key}\n            />\n          </Col>\n        );\n      });\n    }\n\n    const crumbs = [\n      {\n        to: \"/notify\",\n        title: \"Notify\",\n        name: \"Notify\",\n      },\n      {\n        to: \"/notify/new\",\n        title: \"Composer\",\n        name: \"Composer\",\n      },\n    ];\n\n    return (\n\n      <div>\n\n        {\n          this.state.emailSent &&\n          <Navigate to=\"/notify/new/success\" />\n        }\n\n        <Header breadcrumbs={<Breadcrumb crumbs={crumbs} />} title=\"Send a new email\" subtitle=\"Send emails to targeted groups\"/>\n\n        <Loader loaded={this.state.loaded}>\n\n          {this.state.loaded &&\n            <>\n\n              <Form className=\"container-xl\" onSubmit={this.handleSubmit} validated={this.state.validated} noValidate>\n                <ToRow groups={this.getGroupList()} numTos={this.getToListCount()} validated={this.state.validated} handleClick={this.handlePillClick} handleShowTo={this.handleShowTo} />\n                <DropdownRow name=\"from\" options={this.state.possibleFroms} label=\"Send as\" formValue={this.state.from} handleChange={this.handleChange} />\n                <DropdownRow name=\"replyTo\" options={this.state.possibleReplyTos} label=\"Send replies to\" formValue={this.state.replyTo} handleChange={this.handleChange} />\n                <DropdownRow name=\"category\" options={this.state.possibleCategories} label=\"Subscription category\" formValue={this.state.category} handleChange={this.handleChange} />\n                <TextRow name=\"subject\" label=\"Subject\" formValue={this.state.subject} handleChange={this.handleChange} required />\n                <Tabs id=\"tabs\" activeKey={this.state.tabKey} onSelect={(k) => this.setState({ tabKey: k })} className=\"mb-3\">\n                  <Tab eventKey=\"editor\" title=\"Editor\">\n                    <div className=\"mb-3\">\n                      <Editor\n                        tinymceScriptSrc=\"/js/tinymce/5/tinymce.min.js\"\n                        onInit={(evt, editor) => this.editor.current = editor}\n                        onEditorChange={(value) => { this.setState({ editorValue: value }); }}\n                        // initialValue={this.state.editorValue}\n                        init={{\n                          skin: (window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"oxide-dark\" : \"\"),\n                          relative_urls: false,\n                          remove_script_host: false,\n                          document_base_url: document.documentURI,\n                          selector: \"#message\",\n                          images_upload_url: \"/notify/new/image-upload\",\n                          automatic_uploads: true,\n                          images_upload_credentials: true,\n                          branding: false,\n                          plugins: [\n                            \"autolink lists link image charmap print preview anchor\",\n                            \"searchreplace visualblocks code autoresize insertdatetime media table\",\n                            \"paste help wordcount\"\n                          ],\n                          statusbar: false,\n                          paste_as_text: true,\n                          toolbar: \"insert | undo redo |  formatselect | bold italic underline | bullist numlist outdent indent | removeformat | help\",\n                          content_css: (window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"default\"),\n                          fontsize_formats: \"12pt\",\n                          font_formats: \"Default=system-ui,-apple-system,\\\"Segoe UI\\\",Roboto,\\\"Helvetica Neue\\\",Arial,\\\"Noto Sans\\\",\\\"Liberation Sans\\\",sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\",\\\"Segoe UI Symbol\\\",\\\"Noto Color Emoji\\\";\",\n                          style_formats: [\n                            {\n                              title: \"Headings\", items: [\n                                { title: \"Heading 1\", format: \"h1\" },\n                                { title: \"Heading 2\", format: \"h2\" },\n                                { title: \"Heading 3\", format: \"h3\" },\n                                { title: \"Heading 4\", format: \"h4\" },\n                                { title: \"Heading 5\", format: \"h5\" },\n                                { title: \"Heading 6\", format: \"h6\" }\n                              ]\n                            },\n                            {\n                              title: \"Inline\", items: [\n                                { title: \"Bold\", format: \"bold\" },\n                                { title: \"Italic\", format: \"italic\" },\n                                { title: \"Underline\", format: \"underline\" },\n                                { title: \"Strikethrough\", format: \"strikethrough\" },\n                                { title: \"Superscript\", format: \"superscript\" },\n                                { title: \"Subscript\", format: \"subscript\" },\n                                { title: \"Code\", format: \"code\" }\n                              ]\n                            },\n                            {\n                              title: \"Blocks\", items: [\n                                { title: \"Paragraph\", format: \"p\" },\n                                { title: \"Blockquote\", format: \"blockquote\" },\n                                { title: \"Div\", format: \"div\" },\n                                { title: \"Pre\", format: \"pre\" }\n                              ]\n                            }\n                          ],\n                          menu: {\n                            edit: { title: \"Edit\", items: \"undo redo | cut copy paste | selectall | searchreplace\" },\n                            view: { title: \"View\", items: \"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen\" },\n                            insert: { title: \"Insert\", items: \"image link template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime\" },\n                            format: { title: \"Format\", items: \"bold italic underline strikethrough superscript subscript codeformat | formats blockformats | removeformat\" },\n                            tools: { title: \"Tools\", items: \"spellchecker spellcheckerlanguage | code wordcount\" },\n                            table: { title: \"Table\", items: \"inserttable | cell row column | tableprops deletetable\" },\n                            help: { title: \"Help\", items: \"help\" }\n                          },\n\n                          //toolbar: \"link\",\n                        }}\n                      />\n                    </div>\n\n                    <p>\n                      <Button type=\"submit\" variant=\"success\" onSubmit={this.handleSubmit}>Send the email</Button> <Button variant=\"dark\" onClick={() => { this.setState({ tabKey: \"preview\" }); }}>Preview message</Button>\n                    </p>\n                  </Tab>\n                  <Tab eventKey=\"attachments\" title=\"Attachments\">\n                    <Dropzone action=\"/notify/file-uploads\" uuid={this.state.emailUuid} date={this.state.date} maxTotalFileSize={this.state.dzMaxTotalFileSize} maxFileSize={this.state.dzMaxFileSize} setAttachments={this.setAttachments} attachments={this.state.attachments} canSubmitAttachments={this.state.canSubmitAttachments} setCanSubmitAttachments={this.setCanSubmitAttachments} />\n                  </Tab>\n                  <Tab eventKey=\"preview\" title=\"Preview\">\n                    <div className=\"mb-3\">\n                      {this.renderPreview()}\n                    </div>\n                  </Tab>\n                  <Tab eventKey=\"advanced\" title=\"Advanced\">\n                    <div className=\"mb-3\">\n                      {this.state.canForceSend &&\n                        <Form.Check\n                          type=\"checkbox\"\n                          id=\"force-send\"\n                          label=\"Force send this email\"\n                          checked={this.state.forceSend}\n                          onChange={this.handleForceSendChange}\n                          name=\"forceSend\"\n                        />\n                      }\n\n                      <Form.Check\n                        type=\"checkbox\"\n                        id=\"send-to-coaches\"\n                        label=\"Send to coaches of included squads\"\n                        checked={this.state.sendToCoaches}\n                        onChange={this.handleChange}\n                        name=\"sendToCoaches\"\n                      />\n                    </div>\n\n                    <p>\n                      <Button type=\"button\" variant=\"primary\" onClick={this.handleSettingsOpen}>\n                        <i className=\"fa fa-cog\" aria-hidden=\"true\"></i> Change Settings\n                      </Button>{\" \"}\n                      <Button type=\"button\" variant=\"info\" onClick={this.handleDemoOpen}>\n                        Developer Info\n                      </Button>\n                    </p>\n                  </Tab>\n                </Tabs>\n              </Form>\n\n              <Modal show={this.state.showTo} onHide={this.handleCloseTo} centered fullscreen>\n                <Modal.Header closeButton>\n                  <Modal.Title>Add recipients</Modal.Title>\n                </Modal.Header>\n                <Modal.Body className=\"p-0\">\n                  <Accordion defaultActiveKey=\"0\" flush>\n                    {\n                      squads.length > 0 &&\n                      <Accordion.Item eventKey=\"0\">\n                        <Accordion.Header>Squads</Accordion.Header>\n                        <Accordion.Body>\n                          <Row>\n                            {squads}\n                          </Row>\n                        </Accordion.Body>\n                      </Accordion.Item>\n                    }\n                    {\n                      targetedLists.length > 0 &&\n                      <Accordion.Item eventKey=\"1\">\n                        <Accordion.Header>Targeted Lists</Accordion.Header>\n                        <Accordion.Body>\n                          <Row>\n                            {targetedLists}\n                          </Row>\n                        </Accordion.Body>\n                      </Accordion.Item>\n                    }\n                    {\n                      galaEntrants.length > 0 &&\n                      <Accordion.Item eventKey=\"2\">\n                        <Accordion.Header>Gala Entrants</Accordion.Header>\n                        <Accordion.Body>\n                          <Row>\n                            {galaEntrants}\n                          </Row>\n                        </Accordion.Body>\n                      </Accordion.Item>\n                    }\n                  </Accordion>\n                </Modal.Body>\n                <Modal.Footer>\n                  <Button variant=\"primary\" onClick={this.handleCloseTo}>\n                    Save and close\n                  </Button>\n                </Modal.Footer>\n              </Modal>\n\n              <Modal show={this.state.showForceSendWarning} onHide={this.handleForceSendClose} centered>\n                <Modal.Header closeButton className=\"bg-danger text-white\">\n                  <Modal.Title>Are you sure?</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                  <p>\n                    <strong>Force sending an email overrides the subscription options of your members.</strong>\n                  </p>\n\n                  <p>\n                    Under the General Data Protection Regulation, you may only override these preferences in specific cases.\n                  </p>\n\n                  <p className=\"mb-0\">\n                    SCDS may periodically review your organisation&apos;s use of the Force Send functionality.\n                  </p>\n                </Modal.Body>\n                <Modal.Footer>\n                  <Button variant=\"dark\" onClick={this.handleForceSendClose}>\n                    Don&apos;t force send\n                  </Button>\n                  <Button variant=\"danger\" onClick={this.handleForceSendConfirm}>\n                    I understand\n                  </Button>\n                </Modal.Footer>\n              </Modal>\n\n              <Modal show={this.state.showDemoSubmission} onHide={this.handleDemoClose} centered>\n                <Modal.Header closeButton>\n                  <Modal.Title>Submission Demo</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n\n                  <h2>Email preview</h2>\n\n                  <div className=\"mb-3\">\n                    {this.renderPreview()}\n                  </div>\n\n                  <h2>For Developers: React Component State</h2>\n\n                  <pre>{JSON.stringify(this.state, undefined, 2)}</pre>\n                </Modal.Body>\n                <Modal.Footer>\n                  <Button variant=\"primary\" onClick={this.handleDemoClose}>\n                    Close\n                  </Button>\n                </Modal.Footer>\n              </Modal>\n\n              <Modal show={this.state.showConfirmSendDialog} onHide={this.handleConfirmSendClose} centered>\n                <Modal.Header closeButton>\n                  <Modal.Title>Confirm send?</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n\n                  <p className=\"mb-0\">\n                    Are you sure you want to send your email? Emails can&apos;t be unsent.\n                  </p>\n\n                </Modal.Body>\n                <Modal.Footer>\n                  <Button variant=\"dark\" onClick={this.handleConfirmSendClose}>\n                    Cancel\n                  </Button>\n                  <Button variant=\"primary\" onClick={this.handleConfirmSend} disabled={this.state.disableSendConfirm}>\n                    Confirm\n                  </Button>\n                </Modal.Footer>\n              </Modal>\n\n              <Modal show={this.state.showUserSettingsDialog} onHide={this.handleSettingsClose} centered>\n                <Modal.Header closeButton>\n                  <Modal.Title>Change your Notify Settings</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                  <Form onSubmit={this.handleSettingsSave}>\n                    <Form.Group className=\"mb-3\" controlId=\"replyEmailAddress\">\n                      <Form.Label>Reply-to email address</Form.Label>\n                      <Form.Control type=\"email\" placeholder=\"name@example.com\" name=\"replyEmailAddress\" value={this.state.settings.replyEmailAddress} onChange={this.handleSettingsChange} />\n                    </Form.Group>\n                    <Dropdown name=\"defaultSendAs\" label=\"Default send email as\" formValue={this.state.settings.defaultSendAs} handleChange={this.handleSettingsChange} options={this.state.possibleFroms} />\n                    {\n                      this.state.possibleReplyTos.length > 1 &&\n                      <Dropdown name=\"defaultReplyTo\" label=\"Default reply-to address\" formValue={this.state.settings.defaultReplyTo} handleChange={this.handleSettingsChange} options={this.state.possibleReplyTos} />\n                    }\n                  </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                  <Button variant=\"dark\" onClick={this.handleSettingsClose}>\n                    Close\n                  </Button>\n                  <Button variant=\"primary\" type=\"submit\" onClick={this.handleSettingsSave} disabled={this.state.disableSettingsSave}>\n                    Save\n                  </Button>\n                </Modal.Footer>\n              </Modal>\n            </>\n          }\n        </Loader>\n      </div>\n    );\n  }\n}\n\nexport default Composer;\n"],"names":["getKey","key","store","getName","getDetail","getId","getUuid","getCode","setTitle","title","document","props","crumbs","length","breadcrumbs","map","crumb","resolved","useResolvedPath","to","useMatch","path","pathname","end","className","name","state","global_questionable_link","Pill","React","render","this","data","type","onClick","event","handleClick","ToRow","pills","groups","classes","validated","numTos","push","controlClassNames","join","id","Button","variant","handleShowTo","DropdownRow","options","idx","value","FloatingLabel","controlId","label","Form","formValue","onChange","handleChange","required","Dropzone","constructor","super","dropzone","DropzoneLib","dropzoneRef","current","url","action","method","previewsContainer","filesizeBase","maxFilesize","maxFileSize","params","notify_uuid","uuid","notify_date","date","previewTemplate","on","classList","add","remove","file","response","status","attachments","filename","filesize","size","mimetype","s3_key","setAttachments","console","error","printFileDetails","i","splice","parseInt","maxTotalFileSize","totalFileSize","tooLarge","maxTotalFileSizeOK","setState","warningMessage","setCanSubmitAttachments","warning","errorMessage","needsComma","forEach","ref","Dropdown","loaded","Placeholder","xs","animation","children","Composer","handleTosChangeBackend","checked","target","prevState","settings","showTo","preventDefault","currentTarget","checkValidity","getGroupList","canSubmitAttachments","editorValue","showConfirmSendDialog","stopPropagation","disableSendConfirm","list","recipients","element","axios","then","info","emailSent","catch","warn","possibleTos","handleTosChange","showDemoSubmission","showForceSendWarning","forceSend","showUserSettingsDialog","disableSettingsSave","possibleReplyTos","log","squads","lists","galas","count","index","tenantFunctions","href","rel","dangerouslySetInnerHTML","__html","editor","from","replyTo","subject","message","canForceSend","sendToCoaches","category","possibleFroms","possibleCategories","documentBaseUrl","imagesUploadUrl","tinyMceCssLocation","tabKey","emailUuid","dzMaxFileSize","dzMaxTotalFileSize","replyEmailAddress","defaultReplyTo","defaultSendAs","componentDidMount","targetedLists","galaEntrants","Col","md","lg","handleSquadTosChange","handleListTosChange","handleGalaTosChange","Header","Breadcrumb","subtitle","onSubmit","handleSubmit","noValidate","getToListCount","handlePillClick","TextRow","Tabs","activeKey","onSelect","k","Tab","eventKey","tinymceScriptSrc","onInit","evt","onEditorChange","init","skin","window","matchMedia","matches","relative_urls","remove_script_host","document_base_url","documentURI","selector","images_upload_url","automatic_uploads","images_upload_credentials","branding","plugins","statusbar","paste_as_text","toolbar","content_css","fontsize_formats","font_formats","style_formats","items","format","menu","edit","view","insert","tools","table","help","renderPreview","handleForceSendChange","handleSettingsOpen","handleDemoOpen","Modal","show","onHide","handleCloseTo","centered","fullscreen","closeButton","Accordion","defaultActiveKey","flush","Row","handleForceSendClose","handleForceSendConfirm","handleDemoClose","JSON","stringify","undefined","handleConfirmSendClose","handleConfirmSend","disabled","handleSettingsClose","handleSettingsSave","placeholder","handleSettingsChange"],"sourceRoot":""}